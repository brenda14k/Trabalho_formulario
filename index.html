<!---Lembrar de colocar mais 3 tipos de caixas de preenchimento-->


 <!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formulário de Exemplo</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <form id="formCadastro" onsubmit="return processar_formulario()">
    <h3>Cadastre-se</h3>

    <div class="form-group">
      <label for="nome">Nome:</label>
      <input type="text" id="nome" name="nome" placeholder="Nome completo…">
      <div class="error" id="erroNome"></div>
    </div>

    <div class="form-group">
      <label for="data_nascimento">Data de Nascimento:</label>
      <input type="date" id="data_nascimento" name="data_nascimento">
      <div class="error" id="erroDataNascimento"></div>
    </div>

    <div class="form-group">
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" placeholder="Digite seu e-mail">
      <div class="error" id="erroEmail"></div>
    </div>

    <div class="form-group">
      <label>Habilidades:</label>
      <label for="html">
        <input type="checkbox" id="html" name="habilidades" value="HTML"> HTML
      </label>
      <label for="css">
        <input type="checkbox" id="css" name="habilidades" value="CSS"> CSS
      </label>
      <label for="js">
        <input type="checkbox" id="js" name="habilidades" value="JS"> JavaScript
      </label>
      <div class="error" id="erroHabilidades"></div>
    </div>

    <div class="form-group">
      <label for="pais">País:</label>
      <select id="pais" name="pais">
        <option value="Br">Brasil</option>
        <option value="Ar">Argentina</option>
        <option value="Pr">Paraguai</option>
        <option value="jp">Japão</option>
        <option value="Kor">Coreia do Sul</option>
      </select>
      <div class="error" id="erroPais"></div>
    </div>

    <div class="form-group">
      <button type="submit">Enviar</button>
    </div>
  </form>

  <script>
    // Ajusta as datas mínimas e máximas para o campo de data de nascimento
    window.onload = function() {
      const hoje = new Date();
      hoje.setDate(hoje.getDate() - 1);  // Define a data mínima como ontem

      const umAnoDepois = new Date(hoje);
      umAnoDepois.setFullYear(hoje.getFullYear() + 1);  // Define a data máxima como 1 ano à frente

      // Formata as datas no formato 'YYYY-MM-DD' para o campo de data
      const minDate = hoje.toISOString().split('T')[0];
      const maxDate = umAnoDepois.toISOString().split('T')[0];

      document.getElementById("data_nascimento").min = minDate;
      document.getElementById("data_nascimento").max = maxDate;
    };

    function processar_formulario() {
      // Obtem os dados dos campos do formulário
      let nome = document.querySelector("#nome").value;
      let dataNascimento = document.querySelector("#data_nascimento").value;
      let email = document.querySelector("#email").value;
      let pais = document.querySelector("#pais").value;

      // Limpa as mensagens de erro anteriores
      document.getElementById("erroNome").textContent = '';
      document.getElementById("erroDataNascimento").textContent = '';
      document.getElementById("erroEmail").textContent = '';
      document.getElementById("erroHabilidades").textContent = '';
      document.getElementById("erroPais").textContent = '';

      let isValid = true;

      // Valida o Nome (mínimo de 3 caracteres)
      if (nome.trim() === '') {
        document.getElementById("erroNome").textContent = 'O nome é obrigatório.';
        isValid = false;
      } else if (nome.length < 3) {
        document.getElementById("erroNome").textContent = 'O nome deve ter pelo menos 3 caracteres.';
        isValid = false;
      }

      // Validar Data de Nascimento (não pode ser a data de hoje e até 1 ano no futuro)
      if (dataNascimento === '') {
        document.getElementById("erroDataNascimento").textContent = 'A data de nascimento é obrigatória.';
        isValid = false;
      } else {
        const hoje = new Date();
        hoje.setHours(0, 0, 0, 0);  // Remove a hora da data de hoje
        const umAnoDepois = new Date(hoje);
        umAnoDepois.setFullYear(hoje.getFullYear() + 1);  // Define a data máxima como 1 ano à frente
        const dataInformada = new Date(dataNascimento);

        // Verifica se a data é maior ou igual à data de hoje
        if (dataInformada >= hoje) {
          document.getElementById("erroDataNascimento").textContent = 'A data de nascimento não pode ser hoje ou no futuro.';
          isValid = false;
        }
        
        // Verifica se a data é mais de 1 ano à frente
        if (dataInformada > umAnoDepois) {
          document.getElementById("erroDataNascimento").textContent = 'A data de nascimento não pode ser mais de um ano à frente.';
          isValid = false;
        }
      }

      // Valida o Email
      let emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
      if (email.trim() === '') {
        document.getElementById("erroEmail").textContent = 'O e-mail é obrigatório.';
        isValid = false;
      } else if (!emailPattern.test(email)) {
        document.getElementById("erroEmail").textContent = 'Por favor, insira um e-mail válido.';
        isValid = false;
      }

      // Valida as Habilidades
      let habilidades = document.querySelectorAll('input[name="habilidades"]:checked');
      if (habilidades.length === 0) {
        document.getElementById("erroHabilidades").textContent = 'Por favor, selecione ao menos uma habilidade.';
        isValid = false;
      }

      // Valida o País
      if (pais === '') {
        document.getElementById("erroPais").textContent = 'O país é obrigatório.';
        isValid = false;
      }

      // Se o formulário estiver válido, exibe a mensagem de sucesso
      if (isValid) {
        alert("Formulário enviado com sucesso!");
      }

      // Retorna falso para impedir o envio real do formulário durante os testes
      return isValid;
    }
</script>

  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/froala-editor@latest/js/froala_editor.pkgd.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/froala-editor@latest/css/froala_editor.pkgd.min.css" rel="stylesheet" type="text/css" />
  <script>
    new FroalaEditor('textarea');
  </script>

</body>

</html>
