<!---Lembrar de colocar mais 3 tipos de caixas de preenchimento-->

<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <form action="" onsubmit="return processar_formulario()">

        <h3>Cadastre-se</h3>

        <span id="erros"></span>


        <div class="formgroup">
            <label for="nome">Nome:</label>
            <input type="text" id="nome" name="nome" placeholder="nome completo…">
        </div>

        <div class="formgroup">
            <label for="data_nascimento">Data de Nascimento:</label>
            <input id="data_nascimento" name="data_nascimento" type="date">
        </div>

        <div class="formgroup">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email">
        </div>

         <div class="formgroup">
            <label for="telefone">Número de Telefone:</label>
            <input type="number" id="telefone" name="telefone" placeholder="" >
        </div>
        <div class="formgroup">
            <label>Habilidades:</label>
            <label for="html">
                <input type="checkbox" id="html" name="habilidades" value="HTML">HTML
            </label>
            <label for="css">
                <input type="checkbox" id="css" name="habilidades" value="CSS">CSS
            </label>
            <label for="js">
                <input type="checkbox" id="js" name="habilidades" value="JS">JavaScript
            </label>
        </div>

        <div class="formgroup">
            <label for="pais">País:</label>
            <select id="pais" name="pais">
                <option value="Ar">Argentina</option>
                <option value="br">Brasil</option>
                <option value="CA">Canadá</option>
                <option value="Ch">Chile</option>
                <option value="EUA">Estados Unidos America</option>
                <option value="Pt">Portugal</option>
                <option value="Pr">Paraguay</option>


            </select>
        </div>

        <div class="formgroup">
            <label for="comentarios">Comentários:</label><br>
            <textarea id="comentarios" name="comentarios"></textarea>
        </div>

        <button type="submit">Enviar</button>
    </form>

    
    
    <!---Parte do código em Java Script -->
    <script type="text/javascript">

        // Coleta os dados do formulário
        let nome = document.querySelector("#nome");
        let data_nascimento = document.querySelector("#data_nascimento");   
        let email = document.querySelector("#email");
        let telefone = document.querySelector("#telefone");  
        let habilidades = document.querySelector("#habilidades")
        let pais = document.querySelector("#pais");      
        
        let erros = document.querySelector("#erros");
        
        //nome.style.fontSize = "50px";



        function processar_formulario() {
            

            if(nome.value == "" || nome.value.length < 2){
                console.log("Nome informado invalido")
                erros.textContent = "Nome informado invalido"

            }


          if(data_nascimento.value == "" ){
                console.log("Data informada invalido")
                erros.textContent = "Data informada invalido"

            }
            let hojeFormatado = hoje.toISOString().split('T')[0]; //toISOString compara datas também é utilizdo em banco de dados.
            //split pega somente a informação da hora.

            // Verifica se a data selecionada é a mesma que a de hoje
            if (data_nascimento.value === hojeFormatado) {
                console.log("Erro: A data de hoje não pode ser selecionada");
                erros.textContent = "Não é permitido selecionar a data de hoje!";
                return false;
            }

          if(email == "" || email.indexOf("@") === -1 || !email.endsWith(".com.br") ){
            console.log(" email informado invalido")
            erros.textContent = "email informado invalido"

               if(telefone == "" || telefone.value < 9 ){
            console.log("Telefone informado invalido")
            erros.textContent = "Telfone informado invalido"
               }
               if(habilidades == ""){
            console.log(" O campo habilidades não pode ficar em vazio") // isso aparece no console quando vai em inspecionar é uma mensagem para o programador saber o erro.
            erros.textContent = " O campo habilidades não pode ficar em vazio"

             if( == ""){
            console.log("Telefone informado invalido")
            erros.textContent = "Telfone informado invalido"
               }       

                    if (telefone.length > 0) {
            resultado += '+' + telefone.substring(0, 2);  // Código do país
        }
        if (telefone.length > 2) {
            resultado += ' (' + telefone.substring(2, 4) + ')';  // Código de área
        }
        if (telefone.length > 4) {
            resultado += ' ' + telefone.substring(4, 10);  // Número do telefone
        }
//indexOf() é usado para encontrar a posição de um determinado caractere ou sequência de caracteres dentro de uma string.
//endsWith() é usado para verificar se uma string termina com uma determinada sequência de caracteres.

            return false;  // Previne o envio real do formulário para testes
        }
    </script>


    <!--froala-->
    <script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/froala-editor@latest/js/froala_editor.pkgd.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/froala-editor@latest/css/froala_editor.pkgd.min.css" rel="stylesheet"
        type="text/css" />
    <script>
        new FroalaEditor
            ('textarea');
    </script>
</body>

</html>
