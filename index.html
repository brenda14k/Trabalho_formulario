<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Agende seu Show</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <form id="formCadastro" onsubmit="processar_formulario(event)">
        <h3>Agende seu Show</h3>

        <div class="form-group">
            <label for="nome">Nome:</label>
            <input type="text" id="nome" name="nome" placeholder="Nome completo…" />
            <div class="error" id="erroNome"></div>
        </div>

        <div class="form-group">
            <label for="data_show">Data do Show:</label>
            <input type="date" id="data_show" name="data_show" />
            <div class="error" id="erroDataShow"></div>
        </div>

        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" placeholder="Digite seu e-mail" />
            <div class="error" id="erroEmail"></div>
        </div>

        <div class="form-group">
            <label for="telefone">Telefone:</label>
            <input type="tel" id="telefone" name="telefone" placeholder="+XX (XX) XXXXX-XXXX" maxlength="19" />
            <div class="error" id="erroTelefone"></div>
        </div>
        
<div class="form-group">
            <label for="estado">Escolha um estado:</label>
            <select id="estado" name="estado">
                <option value="BA">Bahia</option>
                <option value="ES">Espírito Santo</option>
                <option value="MG">Minas Gerais</option>
                <option value="PE">Pernambuco</option>
                <option value="PR">Paraná</option>
                <option value="RJ">Rio de Janeiro</option>
                <option value="RS">Rio Grande do Sul</option>
                <option value="SC">Santa Catarina</option>
                <option value="SE">Sergipe</option>
                <option value="SP">São Paulo</option>
            </select>
            <div class="error" id="erroEstado"></div>
        </div>
        
        <div class="form-group">
            <label for="cidade">Cidade:</label>
            <select id="cidade" name="cidade">
                <option value="">Escolha uma cidade</option>
                <option value="Salvador">Salvador</option>
                <option value="Vitória">Vitória</option>
                <option value="Belo Horizonte">Belo Horizonte</option>
                <option value="Recife">Recife</option>
                <option value="Curitiba">Curitiba</option>
                <option value="Rio de Janeiro">Rio de Janeiro</option>
                <option value="Porto Alegre">Porto Alegre</option>
                <option value="Florianópolis">Florianópolis</option>
                <option value="Aracaju">Aracaju</option>
                <option value="São Paulo">São Paulo</option>
            </select>
            <div class="error" id="erroCidade"></div>
        </div>

        <div class="form-group">
            <label>Horários de duração do Show:</label>
            <label for="html">
                <input type="checkbox" id="html" name="h_show" value="1h" /> 1 hora
            </label>
            <label for="css">
                <input type="checkbox" id="css" name="h_show" value="2h" /> 2 horas
            </label>
            <label for="js">
                <input type="checkbox" id="js" name="h_show" value="2.5h" /> 2 horas e meia
            </label>
            <div class="error" id="erroHShow"></div>
        </div>

        <div class="form-group">
            <label>Estilo de Evento:</label>
            <label for="festa">
                <input type="radio" id="festa" name="evento" value="festa" /> Festival de Música
            </label>
            <label for="casamento">
                <input type="radio" id="casamento" name="evento" value="casamento" /> Casamentos
            </label>
            <label for="radios">
                <input type="radio" id="radios" name="evento" value="radios" /> Radios
            </label>
            <label for="programa">
                <input type="radio" id="programa" name="evento" value="programa" /> Programa de TV
            </label>
            <label for="navio">
                <input type="radio" id="navio" name="evento" value="navio" /> Cruzeiros
            </label>
            <label for="resort">
                <input type="radio" id="resort" name="evento" value="resort" /> Resort
            </label>
            <div class="error" id="erroEvento"></div>
        </div>

        <div class="form-group">
            <label for="comentarios">Se quiser deixar sugestões de músicas:</label><br />
            <textarea id="comentarios" name="comentarios" placeholder="Digite seus comentários..."></textarea>
            <div class="error" id="erroComentarios"></div>
        </div>

        <div class="form-group">
            <button type="submit">Enviar</button>
        </div>
    </form>
    

    <script>
                // Formatação do telefone
        document.addEventListener('DOMContentLoaded', function () {
            const telefoneInput = document.getElementById('telefone');

            telefoneInput.addEventListener('input', function () {
                let valor = telefoneInput.value.replace(/\D/g, ''); // Remove tudo que não for número

                if (valor.length > 19) {
                    valor = valor.substring(0, 19); // Limita a 19 caracteres numéricos
                }

                let formatado = '';

                if (valor.length > 0 && valor[0] !== '+') {
                    valor = '+' + valor;
                }

                if (valor.length > 1) {
                    formatado = valor.substring(0, 3);
                }

                if (valor.length > 3) {
                    formatado += ' (' + valor.substring(3, 5) + ') ';
                }

                if (valor.length > 5) {
                    formatado += valor.substring(5, 10);
                }

                if (valor.length > 9) {
                    formatado += '-';
                }

                if (valor.length > 10) {
                    formatado += valor.substring(10, 15);
                }

                telefoneInput.value = formatado; // Atualiza o valor do input com a máscara
            });
        });

        function processar_formulario(event) {
            event.preventDefault();

            let nome = document.querySelector("#nome").value;
            let dataShow = document.querySelector("#data_show").value;
            let email = document.querySelector("#email").value;
            let telefone = document.querySelector("#telefone").value;
            let cidade = document.querySelector("#cidade").value;
            let comentarios = document.querySelector("#comentarios").value;
            let h_show = document.querySelectorAll('input[name="h_show"]:checked');
            let evento = document.querySelector('input[name="evento"]:checked');
            let isValid = true;

            // Limpa as mensagens de erro
            document.getElementById("erroNome").textContent = "";
            document.getElementById("erroDataShow").textContent = "";
            document.getElementById("erroEmail").textContent = "";
            document.getElementById("erroTelefone").textContent = "";
            document.getElementById("erroCidade").textContent = "";
            document.getElementById("erroHShow").textContent = "";
            document.getElementById("erroEvento").textContent = "";
            document.getElementById("erroComentarios").textContent = "";

            // Validações
            if (nome.trim() === "") {
                document.getElementById("erroNome").textContent = "O nome é obrigatório.";
                isValid = false;
            }
            if (dataShow === "") {
                document.getElementById("erroDataShow").textContent = "A data do show é obrigatória.";
                isValid = false;
            }
            if (email.trim() === "") {
                document.getElementById("erroEmail").textContent = "O e-mail é obrigatório.";
                isValid = false;
            }
            if (telefone.trim() === "") {
                document.getElementById("erroTelefone").textContent = "O telefone é obrigatório.";
                isValid = false;
            }
            if (cidade === "") {
                document.getElementById("erroCidade").textContent = "A cidade é obrigatória.";
                isValid = false;
            }
            if (h_show.length === 0) {
                document.getElementById("erroHShow").textContent = "Selecione pelo menos um horário.";
                isValid = false;
            }
            if (!evento) {
                document.getElementById("erroEvento").textContent = "Escolha o tipo de evento.";
                isValid = false;
            }

            if (isValid) {
                alert("Agendamento feito! Entraremos em contato em tres dias");
                document.getElementById("formCadastro").reset();
            }
        }

    // Função para formatar o telefone
    document.addEventListener('DOMContentLoaded', function () {
        const telefoneInput = document.getElementById('telefone');
        
        telefoneInput.addEventListener('input', function () {
            let valor = telefoneInput.value.replace(/\D/g, ''); // Remove tudo que não for número

            if (valor.length > 19) {
                valor = valor.substring(0, 19); // Limita a 19 caracteres numéricos
            }

            let formatado = '';
            
            if (valor.length > 0 && valor[0] !== '+') {
                valor = '+' + valor;
            }

            if (valor.length > 1) {
                formatado = valor.substring(0, 3);
            }

            if (valor.length > 3) {
                formatado += ' (' + valor.substring(3, 5) + ') ';
            }

            if (valor.length > 5) {
                formatado += valor.substring(5, 10);
            }

            if (valor.length > 9) {
                formatado += '-';
            }

            if (valor.length > 10) {
                formatado += valor.substring(10, 15);
            }

            telefoneInput.value = formatado; // Atualiza o valor do input com a máscara
        });
    });
</script>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/froala-editor@latest/js/froala_editor.pkgd.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/froala-editor@latest/css/froala_editor.pkgd.min.css" rel="stylesheet" type="text/css" />

<script>
    new FroalaEditor('textarea');
</script>

</body>
</html>


